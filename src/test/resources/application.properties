# ==========================================
# 1. DATABASE ?O (H2)
# ==========================================
# Dùng H2 trong RAM, ch? ?? t??ng thích MySQL ?? không l?i cú pháp SQL
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;MODE=MySQL
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# T? ??ng t?o b?ng t? Entity khi ch?y test
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.show-sql=false

# T?t ch?y script SQL kh?i t?o ?? tránh xung ??t d? li?u
spring.sql.init.mode=never

# ==========================================
# 2. C?U HÌNH MAIL (S?A L?I HI?N T?I)
# ==========================================
# B?t bu?c ph?i có 'host' thì Spring m?i t?o bean JavaMailSender
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=test-email@gmail.com
spring.mail.password=test-password
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# ==========================================
# 3. JWT & SECURITY
# ==========================================
# Key ph?i ?? dài (32 bytes) ?? thu?t toán HS256 không báo l?i
jwt.secret=test-secret-key-must-be-very-very-long-123456789
jwt.expiration=86400000

# ==========================================
# 4. OAUTH2 (GOOGLE)
# ==========================================
# C?n ?i?n giá tr? gi? ?? Spring Security kh?i ??ng ???c filter chain
spring.security.oauth2.client.registration.google.client-id=test-google-client-id
spring.security.oauth2.client.registration.google.client-secret=test-google-client-secret
spring.security.oauth2.client.registration.google.scope=openid,profile,email

# ==========================================
# 5. FIREBASE (QUAN TR?NG)
# ==========================================
# Tránh l?i FileNotFoundException khi kh?i t?o FirebaseService
# M?o: Tr? ???ng d?n vào chính file properties này (vì file này ch?c ch?n t?n t?i trong classpath khi test)
firebase.service-account.path=classpath:application.properties
firebase.bucket.name=test-bucket.appspot.com

# ==========================================
# 6. FILE UPLOAD
# ==========================================

file.upload-dir=/tmp/test-uploads
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB